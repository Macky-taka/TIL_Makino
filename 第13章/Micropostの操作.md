# Micropostを操作する

この章のまとめもしていたが途中でchromeが強制終了したことできえてしまったためう前半は省略気味で時間が取れれば後でまとめる。

Web経由でMicropostqを作成するためのインターフェイスに取りかかる。

従来のRails開発の慣習と異なる箇所が1つあ。Micropostsリソースへのインターフェイスは、主にプロフィールページとHomeページのコントローラを経由して実行されるので、Micropostsコントローラにはnewやeditのようなアクションは不要になる。。つまり、createとdestroyがあれば十分である。

### マイクロポストのアクセス制御
createアクションやdestroyアクションを利用するユーザーは、ログイン済みの必要あり。

### マイクロポストを作成する
別の micropost/new ページを使う代わりに、ホーム画面（つまりルートパス）にフォームを置くという点が特徴。
ユーザーのログイン状態に応じて、ホーム画面の表示を変更することを目指す。

### フィードの原型
の段階では投稿した内容をすぐに見ることができない。Homeページにまだマイクロポストを表示する部分が実装されていないためだ。

### マイクロポストを削除する
マイクロポストリソースにポストを削除する機能を追加する。ユーザー削除と同様に、"delete" リンクで実現する。
ユーザーの削除は管理者ユーザーのみが行えるように制限されていたのに対し、今回は自分が投稿したマイクロポストに対してのみ削除リンクが動作するようにする。
deleteを追加し、destroyアクションを定義する。
```
request.referrer || root_url
```
```request.referrer```メソッドは、フレンドリーフォワーディングのrequest.url変数と似ており、一つ前のURLを返す。

### フィードのテスト

Micropostsコントローラの認可をチェックする短いテストと、それらをまとめる統合テストを書く
