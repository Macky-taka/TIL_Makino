# パスワードを更新する
フォームから新しいパスワードを送信するので、フォームからの送信に対応する```update```アクションが必要になる。<br>
このアクションで考慮するのは以下４つ
1. パスワード再設定の有効期限が切れていないか<br>
2. 無効なパスワードであれば失敗させる（失敗した理由も表示する）<br>
3. 新しいパスワードが空文字列になっていないか（ユーザー情報の編集ではOKだった）<br>
4. 新しいパスワードが正しければ、更新する<br>
(1)について<br>
```before_action :check_expiration, only: [:edit, :update] ```<br>
```check_expiration```メソッドは、有効期限をチェックするPrivateメソッドとして定義する。
（2）と（4）のケースも上のbeforeフィルターで対応できる。　(2）については、更新が失敗したときにeditのビューが再描画され、
パーシャルにエラーメッセージが表示されるようにする。（4）については、更新が成功したときにパスワードを再設定し、あとはログインに成功したときと同様にすればよい。
(3)については以前にパスワードは空で良いと実装したためコードを追加する必要がある。
```@user.errors.add(:password, :blank)```を用いる。
